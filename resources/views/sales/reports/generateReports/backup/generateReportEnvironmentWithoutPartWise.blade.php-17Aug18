<html>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <style>
      .page-break-always{ page-break-after: always;}
      .page-break-auto{ page-break-after:auto;}
      @page { margin: 245px 20px 175px 20px;font-size:13px;}
      #header {left: 0;position: fixed;right: 0;text-align: center;top: -240px;width: 100%;height:auto;}
      #footer {left: 0;position: fixed;right: 0;bottom:0px;width: 100%;height:auto;}
      #content {bottom: 0;height:auto;left: 0;right: 0;width: 100%;}
      td table td {border-bottom: 0px!important;}
      p{padding:2!important;margin:0!important;}
      .sno{width:6%!important;font-size:12px!important;padding:5px 5px!important;overflow-wrap: break-word;word-wrap: break-word;}
      .category{font-size:13px!important;padding:0 5px!important;font-weight:bold;overflow-wrap: break-word;word-wrap: break-word;}
      .parameter{width:34%!important;font-size:12px!important;padding:0 5px!important;overflow-wrap: break-word;word-wrap: break-word;}
      .methodName{width:15%!important;font-size:12px!important;padding:0 5px!important;overflow-wrap: break-word;word-wrap: break-word;}
      .equipmentName{width:15%!important;font-size:12px!important;padding:0 5px!important;overflow-wrap: break-word;word-wrap: break-word;}
      .requirementName{width:15%!important;font-size:12px!important;padding:0 5px!important;overflow-wrap: break-word;word-wrap: break-word;}
      .testResult{width:15%!important;font-size:12px!important;padding:0 5px!important;overflow-wrap: break-word;word-wrap: break-word;}
      .pdftable{table-layout:fixed;border-collapse: collapse;background: #fff; border:0px Solid #fff !important;}
      .pdftable tr td {text-overflow:ellipsis;overflow:hidden;white-space:wrap;padding:3px 2px!important;vertical-align: middle;}
      .header-content table,footer-content table{border-collapse:collapse;}
      .left-content{border: 0px none ! important; vertical-align: top;}
      .middle-content{color:#4d64a1;border:0px !important;text-align:center!important;}
      .middle-content h3{font-family: times of romen; font-weight: 600; color: rgb(77, 100, 161); margin: 0px; font-size: 30px !important;}
      .right-content{border: 0px none ! important; color: #d7563a; vertical-align: top; padding: 5px; text-align: center ! important; font-size: 12px ! important;}
      .footer-content h3 {font-family: times of romen; font-weight: 600; color:#4d64a1;margin: 0px; font-size: 15px !important;padding: 0 !important;}
      .footer-content p,h5 {font-size:11px !important;margin:0 !important;padding: 0 !important;}
      .footer-content ul {margin: 0 !important;padding: 0 !important;}
      .footer-content ul li {font-size: 11px !important;margin-top: 0px !important;padding: 0 !important;}
      .rightSection{display:none;}
      table.dash {border: 1px dashed #000;border-collapse: collapse;}
      table.dash td {border: 1px dashed #000;}
      .spanContent{width:40% !important;}
   </style>
   <!--- /footer start-->
   <body>
      <div id="header">
         <div class="header-content" @if(!empty($hasContainHeaderFooter) && in_array($hasContainHeaderFooter,array('2','3')))style="visibility: hidden;"@endif>
         <?php echo !empty($viewData['order']['header_content']) ? htmlspecialchars_decode($viewData['order']['header_content']) : '';?>
      </div>
      <table width="100%" style="border-collapse: collapse;">
         <tr>
            <td colspan="6">
               <table width="100%" style="padding: 0px !important;">
                  <tr>
                     <td width="33.3%" align="left"></td>
                     <td width="33.3%" align="center">
                        <b style="padding:5px;font-size: 15px; width: 150px;">
                        <span>Test Report No</span><span style="padding:10px !important;border-bottom:2px dotted #000 !important;">{{$viewData['order']['order_no']}}</span>
                        @if(!empty($hasContainHeaderFooter) && $hasContainHeaderFooter == '2')
                        (DRAFT)
                        @endif
                        </b>
                     </td>
                     <td width="33.3%" align="right">
                        <b style="vertical-align: middle;">ORIGINAL<br> </b>
                        <span style="font-weight:normal" align="right">
                           <script type='text/php'>
                              if(isset($pdf)){ 
                                  $font = $fontMetrics->get_font('serif','Normal');
                                  $size = 10;
                                  $y    = $pdf->get_height() - 730;
                                  $x    = $pdf->get_width() - 55 - $fontMetrics->get_text_width('1/1', $font, $size);
                                  $pdf->page_text($x, $y, 'Page {PAGE_NUM} of {PAGE_COUNT}', $font, $size);
                              }
                           </script>
                        </span>
                        &nbsp;&nbsp;
                     </td>
                  </tr>
               </table>
            </td>
         </tr>
      </table>
      <table width="100%"  style="border-collapse:collapse;">
         <tr>
            <td width="50%" colspan="4">
               <p style="margin-bottom: 27px;"><b>Issued To</b></p>
               <p style="margin: -25px 5px 30px 5px;font-size: 13px">
                  {{!empty($viewData['order']['customer_name']) ? $viewData['order']['customer_name'] : ''}}
                  <br/>{{!empty($viewData['order']['customer_address']) ? $viewData['order']['customer_address'] : ''}}
                  <br/>{{!empty($viewData['order']['city_name']) ? $viewData['order']['city_name'] : ''}}
               </p>
            </td>
         </tr>
      </table>
      </div>
      <!--- /header end-->
      <!--- footer start-->
      <div id="footer" class="footer-content">
         <div>
            <table width="100%" style="border-collapse:collapse;border-bottom:1px solid;">
               <tr>
                  <td width="33.3%" align="left" valign="bottom">
                     <p style="font-size:10px;padding-top:-5px!important;">
                        @if(!empty($viewData['orderTrackRecord']['finalizing']['user_signature']) && file_exists(DOC_ROOT.SIGN_PATH.$viewData['orderTrackRecord']['finalizing']['user_signature']))
                        <span style="float:right;width:100%;@if(!empty($hasContainHeaderFooter) && in_array($hasContainHeaderFooter,array('2','3')))visibility:hidden;@endif"><img style="width:70px;height:30px;padding-bottom:-6px!important;" alt="{{$viewData['orderTrackRecord']['finalizing']['user_signature']}}" src="{{DOC_ROOT.SIGN_PATH.$viewData['orderTrackRecord']['finalizing']['user_signature']}}"/></span>
                        @endif
                        <span style="display:inline-block;width:100%;padding-top:-1px!important;">{{!empty($viewData['order']['finalizing_date']) ? date(DATEFORMAT,strtotime($viewData['order']['finalizing_date'])) : '-'}}</span>
                     </p>
                     <p style="font-size:13px;padding-top:-1px!important;"><b>{{!empty($viewData['orderTrackRecord']['finalizing']['username']) ? $viewData['orderTrackRecord']['finalizing']['username'] : '-'}}</b></p>
                     <p style="font-size:13px;padding-top:-1px!important;"><b>Authorised by</b></p>
                  </td>
                  <td width="33.3%" align="center" valign="bottom">
                  </td>
                  <td width="33.3%" align="right" valign="bottom">
                     <p style="font-size:10px;padding-top:-5px!important;">
                        @if(!empty($viewData['orderTrackRecord']['finalizing']['user_signature']) && file_exists(DOC_ROOT.SIGN_PATH.$viewData['orderTrackRecord']['finalizing']['user_signature']))
                        <span style="float:right;width:100%;@if(!empty($hasContainHeaderFooter) && in_array($hasContainHeaderFooter,array('2','3')))visibility:hidden;@endif"><img style="width:70px;height:30px;padding-bottom:-6px!important;" alt="{{$viewData['orderTrackRecord']['finalizing']['user_signature']}}" src="{{DOC_ROOT.SIGN_PATH.$viewData['orderTrackRecord']['finalizing']['user_signature']}}"/></span>
                        @endif
                        <span style="display:inline-block;width:100%;padding-top:-1px!important;">{{!empty($viewData['order']['finalizing_date']) ? date(DATEFORMAT,strtotime($viewData['order']['finalizing_date'])) : '-'}}</span>
                     </p>
                     <p style="font-size:13px;padding-top:-1px!important;"><b>{{!empty($viewData['orderTrackRecord']['finalizing']['username']) ? $viewData['orderTrackRecord']['finalizing']['username'] : '-'}}</b></p>
                     <p style="font-size:13px;padding-top:-1px!important;"><b>Authorised by</b></p>
                  </td>
               </tr>
            </table>
         </div>
         <div @if(!empty($hasContainHeaderFooter) && in_array($hasContainHeaderFooter,array('2','3')))style="visibility: hidden;"@endif>
         <?php echo !empty($viewData['order']['footer_content']) ? htmlspecialchars_decode($viewData['order']['footer_content']) : '';?>
      </div>
      </div>
      <!--- /footer start-->
      <!--content-->
      <div id="content">
         <div class="page-break-auto">
            <table  width="100%" class="pdftable" style="margin:-35px 0px auto;border-collapse:collapse;border:0px solid #fff !important;">
               <tbody>
                  <tr>
                     <td colspan="2" align="right"><span style="border-bottom :2px solid #000;display: inline-block;margin-left:70%;"><b>SUBMITTED SAMPLE</b></span></td>
                  </tr>
                  <tr>
                     <td style="padding:0px;" width="100%" align="left" ><span class="spanContent" style="float:left;display: inline-block;vertical-align: middle;">Sample Description</span><b>:</b><span style="position:relative;left:10px;padding-left:11px !important;width: 40%;">{{!empty($viewData['order']['sample_description']) ? $viewData['order']['sample_description'] : ''}}</span></td>
                     <td  width="100%" align="left" >
                        <p style="position: relative;right: 0; width: 70%;float: right;"><span class="" style="display: inline-block;vertical-align: middle;width: 50%;">Received On</span><b>:</b><span style="padding-left:11px !important;">{{!empty($viewData['order']['sample_date']) ? date(DATEFORMAT,strtotime($viewData['order']['sample_date'])) : ''}}</span></p>
                     </td>
                  </tr>
                  <tr>
                     <td style="padding:0px;" width="100%" align="left" ><span class="spanContent" style="display: inline-block;vertical-align: middle;width: 100px;">Sample Appearance</span><b>:</b><span style="padding-left:11px !important;">Pale Yellow Colour Plain Round Papad</span></td>
                     <td  width="100%" align="left" >
                        <p style="position: relative;right: 0; width: 70%;float: right;"><span  class="" style="display: inline-block;vertical-align: middle;width: 50%;">Commenced On</span><b>:</b><span style="padding-left:11px !important;">{{!empty($viewData['order']['sampling_date']) ? date(DATEFORMAT,strtotime($viewData['order']['sampling_date'])) : ''}}</span>
                     </td>
                  </tr>
                  <tr>
                     <td style="padding:0px;" width="100%" align="left" ><b class="spanContent" style="display: inline-block;vertical-align: middle;width: 100px;">Sample details (if any)</b><b>:-</b></td>
                     <td  width="100%" align="left" >
                        <p style="position: relative;right: 0; width: 70%;float: right;"><span class="" style="display: inline-block;vertical-align: middle;width: 50%;">Completed On</span><b>:</b><span style="padding-left:11px !important;">{{!empty($viewData['order']['test_completion_date']) ? date(DATEFORMAT,strtotime($viewData['order']['test_completion_date'])) : ''}}</span></p>
                     </td>
                  </tr>
                  <tr>
                     <td style="padding:0px;" width="100%" align="left"><span class="spanContent" style="display: inline-block;vertical-align: middle;width: 100px;">Sample Quantity</span><b>:</b><span style="padding-left:11px !important;">{{!empty($viewData['order']['sample_qty']) ? $viewData['order']['sample_qty'] : ''}}</span></td>
                     <td width="100%" align="left" >
                        <p style="position: relative;right: 0; width: 70%;float: right;"><span class="" style="display: inline-block;vertical-align: middle;width: 50%;">Date of Report</span><b>:</b><span style="padding-left:11px !important;">{{!empty($viewData['order']['report_date']) ? date(DATEFORMAT,strtotime($viewData['order']['report_date'])) : ''}}</span></p>
                     </td>
                  </tr>
                  <tr>
                     <td style="padding:0px;" width="100%" align="left" ><span class="spanContent" style="display: inline-block;vertical-align: middle;width: 100px;">Batch No.</span><b>:</b><span style="padding-left:11px !important;">{{!empty($viewData['order']['batch_no']) ? $viewData['order']['batch_no'] : ''}}</span></td>
                     <td  width="100%" align="left" >
                        <p style="position: relative;right: 0; width: 70%;float: right;"><span class="" style="display: inline-block;vertical-align: middle;width: 50%;"></p>
                     </td>
                  </tr>
		  <tr>
                     <td style="padding:0px;" width="100%" align="left" ><span class="spanContent" style="display: inline-block;vertical-align: middle;width: 100px;">Best Before End</span><b>:</b><span style="padding-left:11px !important;">{{!empty($viewData['order']['expiry_date']) && $viewData['order']['expiry_date'] !='NA'  ? date(DATEFORMAT,strtotime($viewData['order']['expiry_date'])) : ''}}</span></td>
                     <td  width="100%" align="left" >
                        <p style="position: relative;right: 0; width: 70%;float: right;"><span class="" style="display: inline-block;vertical-align: middle;width: 50%;"></p>
		     </td>
                  </tr>
		  <tr>
                     <td style="padding:0px;" width="100%" align="left" ><span class="spanContent" style="display: inline-block;vertical-align: middle;width: 100px;">Sample Collection</span><b>:</b><span style="padding-left:11px !important;">380748</span></td>
                     <td  width="100%" align="left" >
                        <p style="position: relative;right: 0; width: 70%;float: right;"><span class="" style="display: inline-block;vertical-align: middle;width: 50%;"></p>
                     </td>
                  </tr>   
                  <tr>
                     <td colspan="2" style="padding:0px;"  align="left"><span class="" style="display: inline-block;vertical-align: middle;width: 20% !important;">Customer Reference</span><b>:</b>
			<span  class="spanContent" style="padding-left:11px !important;">{{!empty($viewData['order']['reference_no']) ? $viewData['order']['reference_no'] : ''}}</span></td>
                  </tr>
               </tbody>
            </table>
            <!--Test Parameters Category-->
            <table border="1" width="100%" class="pdftable" style="margin:0 auto;border-collapse:collapse;margin-top:5px!important;">
               <tbody>
                  <tr>
                     <th align="left" width="4%">S.NO</th>
                     <th align="center" width="45%">Parameters</th>
                     <th align="center" width="10%">Test Method </th>
                     <th align="center" width="5%">Unit </th>
                     <th align="center" width="10%">Result </th>
                     <th align="center"width="25%">Specification* </th>
                  </tr>
                  @if(!empty($viewData['orderParameters']))
                  @foreach($viewData['orderParameters'] as $key => $orderParameterCategoryName)
                  <tr>
                     <th class="sno" align="center">{{$key+1}}.</th>
                     <th class="category" align="left" colspan="5" style="padding:0 5px;">{{trim($orderParameterCategoryName['categoryName'])}}</th>
                  </tr>
                  @if(!empty($orderParameterCategoryName['categoryParams']))
                  <?php $charNum = 'a';?>
                  @foreach($orderParameterCategoryName['categoryParams'] as $orderParaKey => $orderParameterCategoryParameters)
                  <tr>
                     <td align="center" class="sno">{{ $charNum++ }}.</td>
                     <td class="parameter" align="left"><?php echo trim($orderParameterCategoryParameters['test_parameter_name']);?></td>
                     @if(!empty($orderParameterCategoryParameters['description']))
                     <td class="text-justify parameter" colspan="4" align="left" style="padding:0 15px;">{{!empty($orderParameterCategoryParameters['description']) ? trim($orderParameterCategoryParameters['description']) : ''}} </td>
                     @else
                     <td align="center" class="methodName">{{!empty($orderParameterCategoryParameters['method_name']) ? trim($orderParameterCategoryParameters['method_name']) : '-'}}</td>
                     <td align="center" class="unit">{{!empty($orderParameterCategoryParameters['claim_value_unit']) ? trim($orderParameterCategoryParameters['claim_value_unit']) : '-'}}</td>

		     <td align="left" class="testResult">{{!empty($orderParameterCategoryParameters['test_result']) ? trim($orderParameterCategoryParameters['test_result']) :'-'}}</td>
		     <td align="center" class="requirementName">{{!empty($orderParameterCategoryParameters['requirement_from_to']) ? trim($orderParameterCategoryParameters['requirement_from_to']) : '-'}}</td>
                     @endif
                  </tr>
                  @endforeach				    
                  @endif
                  @endforeach
                  @endif
                  <tr>
                     <td colspan="6" style="padding-top:5px!important;border: 1px solid #fff;margin-top:10px!important;">
                        <table class="pdftable" width="100%" style="border-collapse:collapse;">
                           <tr>
                              <td width="100%" align="left" style="visibility:hidden;" colspan="6">&nbsp;</td>
                           </tr>
                           <tr>
                              <td width="100%" align="left" style="border: 1px solid #fff;overflow-wrap: break-word;word-wrap: break-word;vertical-align: middle;" colspan="6"><b style="font-size:14px!important;vertical-align: middle;">NOTE :</b> <span style="vertical-align: middle;">{{!empty($viewData['order']['note_value']) ? $viewData['order']['note_value'] : ''}}</span></td>
                           </tr>
                           <tr>
                              <td width="100%" align="left" style="visibility:hidden;" colspan="6">&nbsp;</td>
                           </tr>
                           <tr>
                              <td width="100%" align="left" style="border: 1px solid #fff;overflow-wrap: break-word;word-wrap: break-word;vertical-align: middle;" colspan="6"><b style="font-size:14px!important;vertical-align: middle;">PART D : REMARKS :</b><span style="vertical-align: middle;">{{!empty($viewData['order']['remark_value']) ? $viewData['order']['remark_value'] : ''}}</span></td>
                           </tr>
                           <tr>
                              <td width="100%" align="left" style="visibility:hidden;" colspan="6">&nbsp;</td>
                           </tr>
                           <tr>
                              <td width="100%" align="center" style="border: 1px solid #fff;overflow-wrap: break-word;word-wrap: break-word;vertical-align: middle;" colspan="6"><b style="font-size:14px!important;vertical-align: middle;">*****End Of Report*****</td>
                           </tr>
                        </table>
                     </td>
                  </tr>
            </table>
         </div>
      </div>
      <!--/content-->
   </body>
</html>